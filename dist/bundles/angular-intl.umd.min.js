!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@co.mmons/js-intl")):"function"==typeof define&&define.amd?define("@co.mmons/angular-intl",["exports","@angular/core","@co.mmons/js-intl"],t):t(((e=e||self).co=e.co||{},e.co.mmons=e.co.mmons||{},e.co.mmons["angular-intl"]={}),e.ng.core,e.jsIntl)}(this,(function(e,t,r){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function o(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var a=function(e){function a(){return e.call(this,void 0)||this}return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(a,e),a.getBrowserLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:void 0;return-1!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage||INTL_DEFAULT_LOCALE).indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e}},a.getBrowserLocale=function(){if("undefined"==typeof window||void 0===window.navigator)return INTL_DEFAULT_LOCALE;var e=window.navigator.languages?window.navigator.languages[0]:void 0;return(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)||INTL_DEFAULT_LOCALE},a.prototype.validationErrorMessage=function(e){if(e.errors){var t=!1,n=void 0;for(var i in e.errors){if(n=e.errors[i],"required"==i)return this.message("@co.mmons/angular-intl#validation/requiredError");if("minlength"==i)return this.message("@co.mmons/angular-intl#validation/minLengthError",{length:n&&n.requiredLength||0});if(n instanceof Error&&n.message)return n.message instanceof r.MessageRef&&this.message(n.message),n.message;if(n instanceof r.MessageRef)return this.message(n);if("string"==typeof n)return n;t=!0}if(t)return this.message("@co.mmons/angular-intl#validation/invalidValueError")}},a=i([t.Injectable(),o("design:paramtypes",[])],a)}(r.IntlHelper),s=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t,r){return"string"==typeof t?this.service.currencyFormat(e,t,r):this.service.currencyFormat(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlCurrencyFormat"}),o("design:paramtypes",[a])],e)}(),c=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t){return this.service.dateTimeFormat(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlDateTimeFormat"}),o("design:paramtypes",[a])],e)}(),u=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t){return this.service.dateFormat(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlDateFormat"}),o("design:paramtypes",[a])],e)}(),f=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t){return this.service.timeFormat(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlTimeFormat"}),o("design:paramtypes",[a])],e)}(),l=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t,r){return"string"==typeof t?this.service.decimalFormat(e,t,r):this.service.decimalFormat(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlDecimalFormat"}),o("design:paramtypes",[a])],e)}(),p=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t){return this.service.message(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlMessage"}),o("design:paramtypes",[a])],e)}(),m=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t,r){return"string"==typeof t?this.service.percentFormat(e,t,r):this.service.percentFormat(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlPercentFormat"}),o("design:paramtypes",[a])],e)}(),g=function(){function e(e){this.service=e}return e.prototype.transform=function(e,t){return this.service.relativeFormat(e,t)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlRelativeFormatStatic"}),o("design:paramtypes",[a])],e)}(),d=function(){function e(e){this.service=e,this.callCount=0}return e.prototype.transform=function(e,t,r){var n,i;if("number"==typeof t?i=t:t&&"object"==typeof t&&(r=t),void 0===i&&(i=10*(this.callCount||1)),i>0&&(n=Date.now(),this.callTime&&this.callTime+1e3*i>=n))return this.callResult;var o=this.service.relativeFormat(e,r);return i>0&&(this.callCount++,this.callTime=n,this.callResult=o),o},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlRelativeFormat",pure:!1}),o("design:paramtypes",[a])],e)}(),v=function(){function e(e){this.service=e}return e.prototype.transform=function(e){return this.lastErrors===e.errors?this.lastMessage:(this.lastMessage=this.service.validationErrorMessage(e),this.lastErrors=e.errors,this.lastMessage)},e.prototype.ngOnDestroy=function(){this.lastErrors=void 0,this.lastMessage=void 0},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlValidationErrorMessage",pure:!1}),o("design:paramtypes",[a])],e)}(),y=function(){function e(e){this.service=e}return e.prototype.transform=function(e){return this.service.value(e)},e.ctorParameters=function(){return[{type:a}]},e=i([t.Pipe({name:"intlValue"}),o("design:paramtypes",[a])],e)}(),h=function(){function e(){}var r;return r=e,e.forRoot=function(){return{ngModule:r,providers:[a]}},e=r=i([t.NgModule({declarations:[y,p,g,d,c,f,u,s,l,m,v],exports:[y,p,g,d,c,f,u,s,l,m,v]})],e)}();Object.keys(r).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),e.IntlCurrencyFormatPipe=s,e.IntlDateFormatPipe=u,e.IntlDateTimeFormatPipe=c,e.IntlDecimalFormatPipe=l,e.IntlMessagePipe=p,e.IntlModule=h,e.IntlPercentFormatPipe=m,e.IntlRelativeFormatPipe=d,e.IntlRelativeFormatStaticPipe=g,e.IntlService=a,e.IntlTimeFormatPipe=f,e.IntlValidationErrorMessagePipe=v,e.IntlValuePipe=y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-intl.umd.min.js.map