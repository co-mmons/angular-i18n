!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@co.mmons/js-intl")):"function"==typeof define&&define.amd?define("@co.mmons/angular-intl",["exports","@angular/core","@co.mmons/js-intl"],e):e(((t=t||self).co=t.co||{},t.co.mmons=t.co.mmons||{},t.co.mmons["angular-intl"]={}),t.ng.core,t.jsIntl)}(this,(function(t,e,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}var o=function(t){function o(){return t.call(this,void 0)||this}return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(o,t),o.getBrowserLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:void 0;return-1!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage||INTL_DEFAULT_LOCALE).indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t}},o.getBrowserLocale=function(){if("undefined"==typeof window||void 0===window.navigator)return INTL_DEFAULT_LOCALE;var t=window.navigator.languages?window.navigator.languages[0]:void 0;return(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)||INTL_DEFAULT_LOCALE},o.prototype.validationErrorMessage=function(t){if(t.errors){var e=!1,n=void 0;for(var i in t.errors){if(n=t.errors[i],"required"==i)return this.message("@co.mmons/angular-intl#validation/requiredError");if("minlength"==i)return this.message("@co.mmons/angular-intl#validation/minLengthError",{length:n&&n.requiredLength||0});if(n instanceof Error&&n.message)return n.message instanceof r.MessageRef&&this.message(n.message),n.message;if(n instanceof r.MessageRef)return this.message(n);if("string"==typeof n)return n;e=!0}if(e)return this.message("@co.mmons/angular-intl#validation/invalidValueError")}},o=i([e.Injectable()],o)}(r.IntlHelper),a=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e,r){return"string"==typeof e?this.service.currencyFormat(t,e,r):this.service.currencyFormat(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlCurrencyFormat"})],t)}(),s=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e){return this.service.dateTimeFormat(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlDateTimeFormat"})],t)}(),u=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e){return this.service.dateFormat(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlDateFormat"})],t)}(),c=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e){return this.service.timeFormat(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlTimeFormat"})],t)}(),f=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e,r){return"string"==typeof e?this.service.decimalFormat(t,e,r):this.service.decimalFormat(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlDecimalFormat"})],t)}(),l=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e){return this.service.message(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlMessage"})],t)}(),m=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e,r){return"string"==typeof e?this.service.percentFormat(t,e,r):this.service.percentFormat(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlPercentFormat"})],t)}(),p=function(){function t(t){this.service=t}return t.prototype.transform=function(t,e){return this.service.relativeFormat(t,e)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlRelativeFormatStatic"})],t)}(),g=function(){function t(t){this.service=t,this.callCount=0}return t.prototype.transform=function(t,e,r){var n,i;if("number"==typeof e?i=e:e&&"object"==typeof e&&(r=e),void 0===i&&(i=10*(this.callCount||1)),i>0&&(n=Date.now(),this.callTime&&this.callTime+1e3*i>=n))return this.callResult;var o=this.service.relativeFormat(t,r);return i>0&&(this.callCount++,this.callTime=n,this.callResult=o),o},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlRelativeFormat",pure:!1})],t)}(),v=function(){function t(t){this.service=t}return t.prototype.transform=function(t){return this.lastErrors===t.errors?this.lastMessage:(this.lastMessage=this.service.validationErrorMessage(t),this.lastErrors=t.errors,this.lastMessage)},t.prototype.ngOnDestroy=function(){this.lastErrors=void 0,this.lastMessage=void 0},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlValidationErrorMessage",pure:!1})],t)}(),d=function(){function t(t){this.service=t}return t.prototype.transform=function(t){return this.service.value(t)},t.ctorParameters=function(){return[{type:o}]},t=i([e.Pipe({name:"intlValue"})],t)}(),h=function(){function t(){}var r;return r=t,t.forRoot=function(){return{ngModule:r,providers:[o]}},t=r=i([e.NgModule({declarations:[d,l,p,g,s,c,u,a,f,m,v],exports:[d,l,p,g,s,c,u,a,f,m,v]})],t)}();Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})),t.IntlCurrencyFormatPipe=a,t.IntlDateFormatPipe=u,t.IntlDateTimeFormatPipe=s,t.IntlDecimalFormatPipe=f,t.IntlMessagePipe=l,t.IntlModule=h,t.IntlPercentFormatPipe=m,t.IntlRelativeFormatPipe=g,t.IntlRelativeFormatStaticPipe=p,t.IntlService=o,t.IntlTimeFormatPipe=c,t.IntlValidationErrorMessagePipe=v,t.IntlValuePipe=d,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-intl.umd.min.js.map